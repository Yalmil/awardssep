<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="icon" href="https://cdn.discordapp.com/icons/1323414194019762227/97b0dda854236329a50854aef689f8b3.png?size=2048" type="image/png">
  <title>MSA - Minecraft Sep Award</title>
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}

    body{
      font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      background: radial-gradient(circle at 10% 10%, #2a0f00 0%, #090606 30%, #020202 100%);
      color:#fff;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:2rem;
      position:relative;
    }

    .card{
      width:100%;
      max-width:720px;
      padding:48px;
      border-radius:20px;
      background: linear-gradient(180deg, rgba(255,188,60,0.06), rgba(255,120,0,0.03));
      box-shadow: 0 10px 40px rgba(255,160,40,0.06), 0 0 40px rgba(255,160,40,0.07) inset;
      text-align:center;
      border: 1px solid rgba(255,150,30,0.12);
      position:relative;
      overflow:hidden;
      z-index:1;
    }

    .card::before, .card::after{
      content:'';
      position:absolute;
      width:400px;height:400px;
      filter:blur(40px);
      opacity:0.22;
      transform:rotate(25deg);
      pointer-events: none;
      z-index:0;
    }
    .card::before{background:radial-gradient(circle, #ffd86b 0%, transparent 40%);left:-120px;top:-100px}
    .card::after{background:radial-gradient(circle, #ff7a00 0%, transparent 40%);right:-120px;bottom:-120px}

    .card > * { position: relative; z-index: 2; }

    h1{
      font-size:2.25rem;
      margin-bottom:8px;
      color:#fffcef;
      text-shadow: 0 2px 8px rgba(255,160,40,0.18), 0 0 18px rgba(255,200,80,0.12);
    }
    p.lead{
      color: #fff7e6;
      margin-bottom:28px;
      opacity:0.95;
    }

    .btn-google{
      display:inline-flex;
      align-items:center;
      gap:12px;
      padding:12px 18px;
      border-radius:12px;
      background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
      border:1px solid rgba(255,160,40,0.12);
      cursor:pointer;
      font-weight:600;
      color:#0b0b0b;
      box-shadow: 0 6px 18px rgba(255,140,30,0.12), 0 0 40px rgba(255,140,30,0.06) inset;
      transition:transform .12s ease, box-shadow .12s ease;
      margin-top:12px;
      user-select: none;
    }
    .btn-google:active{transform:translateY(1px)}
    .btn-google:hover{box-shadow: 0 10px 30px rgba(255,140,30,0.18), 0 0 60px rgba(255,140,30,0.08) inset}

    .google-logo{
      width:20px;height:20px;display:inline-block;flex-shrink:0
    }
  </style>
</head>
<body>
  <main class="card" role="main">
    <h1>Bienvenido a MSA</h1>
    <p class="lead">Inicia sesión con tu cuenta de Google para continuar.</p>

    <button id="btnGoogle" class="btn-google" type="button" aria-label="Iniciar sesión con Google">
      <span class="google-logo" aria-hidden="true">
        <!-- Google logo -->
        <svg width="20" height="20" viewBox="0 0 256 262">
          <path d="M255.7 133.4c0-8.7-.8-17-2.4-25.1H130v47.6h71.2c-3 17.2-12.6 31.8-26.8 41.6v34h43.3c25.3-23.3 40-57.7 40-98.1z" fill="#4285F4"/>
          <path d="M130 261c35 0 64.3-11.6 85.7-31.5l-43.3-34c-11.9 8-27.2 12.8-42.4 12.8-32.6 0-60.2-22-70.1-51.5H15.7v32.3C37 227.2 80.8 261 130 261z" fill="#34A853"/>
          <path d="M59.9 156.8c-4.9-14.6-4.9-30.6 0-45.2V79.3H15.7c-17.6 34.9-17.6 76.1 0 111l44.2-33.5z" fill="#FBBC05"/>
          <path d="M130 51.1c18.9 0 36 6.5 49.5 19.3l37.1-37.1C195.9 12.4 166.6 0 130 0 80.8 0 37 33.8 15.7 79.3l44.2 32.3C69.8 73.1 97.4 51.1 130 51.1z" fill="#EA4335"/>
        </svg>
      </span>
      Iniciar sesión con Google
    </button>
  </main>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-app.js";
    import { getAuth, GoogleAuthProvider, signInWithPopup, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyDj9relnAX5se46pRmzZpBYE2c-Phndtvs",
      authDomain: "login-sepawards.firebaseapp.com",
      projectId: "login-sepawards",
      storageBucket: "login-sepawards.firebasestorage.app",
      messagingSenderId: "224966270314",
      appId: "1:224966270314:web:2201fb1d8c4791621ad913"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const provider = new GoogleAuthProvider();

    const btnGoogle = document.getElementById('btnGoogle');

    btnGoogle.addEventListener('click', async () => {
      try {
        await signInWithPopup(auth, provider);
        // Redirección automática al iniciar sesión
        window.location.href = "votar.html";
      } catch (err) {
        console.error('Error en el login:', err);
        alert('Error: ' + (err.message || err.code));
      }
    });

    onAuthStateChanged(auth, user => {
      if (user) {
        // Si ya está logueado, también lo manda a votar.html
        window.location.href = "votar.html";
      }
    });
  </script>
</body>
</html>
