<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Analizador y Visor - Yalmil</title>

  <link rel="icon" href="https://cdn.discordapp.com/emojis/1416607460201857168.png?v=1" type="image/png">
  <meta property="og:title" content="Yalmil.com" />
  <meta property="og:description" content="Analizador y visualizador de código con previsualización automática de HTML." />
  <meta property="og:image" content="https://cdn.discordapp.com/attachments/1355008732576088204/1402309070014124102/Screenshot_20250804-221210.png?ex=68937197&is=68922017&hm=1fa6f462304b2b8cf8a0875053730f988d725d114fbf2648fcb87ee1b67b6a76&" />
  <meta property="og:url" content="https://yalmil.github.io/Yalmil.com/" />
  <meta property="og:type" content="website" />

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #0a0a0a, #1a001f);
      color: #e5ccff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
      padding: 2rem 1rem;
      animation: fadeIn 1s ease-out;
      text-align: center;
      overflow-x: hidden;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    h1 {
      margin: 1rem 0 0.5rem;
      font-size: 2.5rem;
      color: #c084fc;
      text-shadow: 0 0 10px #c084fc;
    }

    p {
      font-size: 1.2rem;
      color: #e5ccff;
      text-shadow: 0 0 6px #c084fc88;
    }

    textarea {
      width: 90%;
      max-width: 900px;
      height: 250px;
      background: rgba(40, 0, 60, 0.25);
      border: 2px solid #c084fc;
      border-radius: 1rem;
      color: #fff;
      font-size: 1rem;
      padding: 1rem;
      resize: none;
      box-shadow: 0 0 10px #c084fc44;
      outline: none;
    }

    button {
      margin-top: 1.5rem;
      background: #c084fc;
      color: #fff;
      border: none;
      padding: 0.8rem 2rem;
      border-radius: 1rem;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 0 15px #c084fc77;
      transition: all 0.3s;
    }

    button:hover {
      transform: scale(1.05);
      box-shadow: 0 0 25px #c084fc;
    }

    .result, .preview {
      margin-top: 2rem;
      width: 90%;
      max-width: 900px;
      background: rgba(20, 0, 40, 0.4);
      border: 2px solid #c084fc;
      border-radius: 1rem;
      padding: 1rem;
      text-align: left;
      box-shadow: 0 0 15px #c084fc44;
      overflow: auto;
    }

    iframe {
      width: 100%;
      height: 400px;
      border: none;
      border-radius: 1rem;
      background: #fff;
    }

    code {
      color: #c084fc;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>Analizador y Visor de Código</h1>
  <p>Pega tu código y analiza automáticamente su contenido o visualízalo si es HTML.</p>

  <textarea id="codeInput" placeholder="Pega aquí tu código..."></textarea>
  <button onclick="analyzeCode()">Analizar</button>

  <div class="result" id="result"></div>
  <div class="preview" id="preview"></div>

  <script>
    function analyzeCode() {
      const code = document.getElementById('codeInput').value.trim();
      const result = document.getElementById('result');
      const preview = document.getElementById('preview');
      result.innerHTML = '';
      preview.innerHTML = '';

      if (!code) {
        result.innerHTML = '<p>Por favor, pega un código primero.</p>';
        return;
      }

      // Detectar tipo de código
      let type = 'Desconocido';
      if (code.includes('<html') || code.includes('<!DOCTYPE html')) type = 'HTML';
      else if (code.includes('function') || code.includes('=>')) type = 'JavaScript';
      else if (code.includes('def ') || code.includes('import ')) type = 'Python';
      else if (code.includes('class ') && code.includes('{')) type = 'Java';
      else if (code.includes('SELECT') || code.includes('FROM')) type = 'SQL';
      else if (code.includes('{') && code.includes('}')) type = 'CSS';

      result.innerHTML = `<p><b>Tipo de código detectado:</b> ${type}</p>`;

      // Si es HTML: mostrar previsualización
      if (type === 'HTML') {
        result.innerHTML += '<p><b>Vista previa generada automáticamente:</b></p>';
        const iframe = document.createElement('iframe');
        preview.appendChild(iframe);
        const doc = iframe.contentWindow.document;
        doc.open();
        doc.write(code);
        doc.close();
      } else {
        // Análisis básico
        let lines = code.split('\n').length;
        let words = code.split(/\s+/).filter(Boolean).length;
        let chars = code.length;

        result.innerHTML += `
          <p><b>Líneas:</b> ${lines}</p>
          <p><b>Palabras:</b> ${words}</p>
          <p><b>Caracteres:</b> ${chars}</p>
          <p><b>Sugerencia:</b> ${getTip(type)}</p>
        `;
      }
    }

    function getTip(type) {
      switch (type) {
        case 'HTML': return 'Usa etiquetas semánticas y valida tu estructura.';
        case 'CSS': return 'Agrupa estilos y evita repetir propiedades.';
        case 'JavaScript': return 'Evita variables globales y usa const/let.';
        case 'Python': return 'Usa nombres descriptivos y sangría consistente.';
        case 'Java': return 'Divide tu código en clases bien definidas.';
        case 'SQL': return 'Evita SELECT * y usa índices en consultas grandes.';
        default: return 'Verifica la sintaxis y estructura del código.';
      }
    }
  </script>
</body>
</html>
