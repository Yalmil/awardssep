<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MSA - Votación</title>
  <style>
    body {
      font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Arial;
      background: radial-gradient(circle at 10% 10%, #2a0f00 0%, #090606 30%, #020202 100%);
      color: #fff;
      padding: 2rem;
    }
    h1 {
      text-align: center;
      margin-bottom: 1.5rem;
      color: #ffd86b;
    }
    .categoria {
      margin-bottom: 2.5rem;
    }
    .categoria h2 {
      font-size: 1.5rem;
      margin-bottom: 1rem;
      color: #ffb347;
      text-shadow: 0 0 6px rgba(255,160,40,0.4);
    }
    .nominados {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
      gap: 1rem;
    }
    .nominado {
      background: rgba(255, 188, 60, 0.05);
      border: 1px solid rgba(255,150,30,0.12);
      padding: 10px;
      border-radius: 12px;
      text-align: center;
      transition: transform 0.15s ease, opacity 0.3s;
      cursor: pointer;
    }
    .nominado:hover {
      transform: scale(1.05);
      background: rgba(255, 188, 60, 0.1);
    }
    .nominado img {
      width: 100%;
      max-width: 150px;
      height: 150px;
      object-fit: cover;
      border-radius: 8px;
      margin-bottom: 8px;
    }
    .oscuro {
      opacity: 0.4;
    }
    .seleccionado {
      border: 2px solid #ffd86b;
      box-shadow: 0 0 10px #ffd86b;
      opacity: 1 !important;
    }
  </style>
</head>
<body>
  <h1>Empieza a votar!</h1>

  <div class="categoria">
    <h2>Mejor Staff</h2>
    <div class="nominados">
      <div class="nominado"><img src="imagenes/ab2607a3082059067c1dc002161ca663.png"><p>Milenial</p></div>
      <div class="nominado"><img src="imagenes/eaf1416d0b15b01b773d046bf074970c.png"><p>Ben10</p></div>
      <div class="nominado"><img src="imagenes/cc37b2d46919eda3905dad8bf34b28de.png"><p>Lu</p></div>
    </div>
  </div>

  <div class="categoria">
    <h2>Usuario más activo</h2>
    <div class="nominados">
      <div class="nominado"><img src="imagenes/15_sin_titulo_20250725011019.webp"><p>Saantybl</p></div>
      <div class="nominado"><img src="imagenes/0ea3a915204e48365948f7901ee5a536.png"><p>Derick</p></div>
      <div class="nominado"><img src="imagenes/cc37b2d46919eda3905dad8bf34b28de.png"><p>Lu</p></div>
      <div class="nominado"><img src="imagenes/260ffc06358eb61f73f321a2e5075b5b_1.jpg"><p>Byakko</p></div>
    </div>
  </div>

  <div class="categoria">
    <h2>Mejor bot</h2>
    <div class="nominados">
      <div class="nominado"><img src="imagenes/67337deb1aef2984d0900b5f2984756d.png"><p>SepBot</p></div>
      <div class="nominado"><img src="imagenes/b4fdfc64edff74c37e1574d34fad66c2.png"><p>Dyno</p></div>
      <div class="nominado"><img src="imagenes/a_daae869aa9c219a1e1e4d0704e38a18e.png"><p>Nekotina</p></div>
      <div class="nominado"><img src="imagenes/bcbfc8d951e3c75b6f453eec0f978a38-1.png"><p>Aki</p></div>
      <div class="nominado"><img src="imagenes/3031fa9e2fabde1652a57ab33f4d7f37.png"><p>Poketwo</p></div>
      <div class="nominado"><img src="imagenes/29cb28fbf65a3958105026ab03abd306.png"><p>Mudae</p></div>
    </div>
  </div>

  <div class="categoria">
    <h2>Mejor foto de perfil</h2>
    <div class="nominados">
      <div class="nominado"><img src="imagenes/f682a6371354dbdb94d9b35171d7621a-1.png"><p>Eron2o23</p></div>
      <div class="nominado"><img src="imagenes/e9b21a55dee0e8fe1d50e93efb460a8b.png"><p>banane_kb (Caterpie)</p></div>
      <div class="nominado"><img src="imagenes/2835db188dca52dc160e03f67412b8ff.png"><p>Izan</p></div>
      <div class="nominado"><img src="imagenes/004926920f94cbd173f2fbec6d829d1b.png"><p>Yalmil mujer?</p></div>
    </div>
  </div>

  <div class="categoria">
    <h2>Mejor meme</h2>
    <div class="nominados">
      <div class="nominado"><img src="imagenes/Untitled185_20250906193215.png"><p>When estas en cena familiar</p></div>
      <div class="nominado"><img src="imagenes/Screenshot_20250910-1406432.png"><p>Manana</p></div>
      <div class="nominado"><img src="imagenes/Screenshot_20250920-2027302.png"><p>Te voy a meter perma</p></div>
    </div>
  </div>

  <div class="categoria">
    <h2>Mejor mundo</h2>
    <div class="nominados">
      <div class="nominado"><img src="imagenes/Picsart_25-09-16_11-51-24-564.png"><p>New world</p></div>
      <div class="nominado"><img src="imagenes/Picsart_25-09-16_11-51-24-564.png"><p>Skyblock</p></div>
      <div class="nominado"><img src="imagenes/Picsart_25-09-16_11-51-24-564.png"><p>Servidor de Minecraft</p></div>
    </div>
  </div>

  <div class="categoria">
    <h2>Mejor juego</h2>
    <div class="nominados">
      <div class="nominado"><img src="imagenes/images (1) (1).jpeg"><p>Brawl stars</p></div>
      <div class="nominado"><img src="imagenes/images (1) (2).jpeg"><p>Brotato</p></div>
      <div class="nominado"><img src="imagenes/images (1) (3).jpeg"><p>Among us</p></div>
      <div class="nominado"><img src="imagenes/images (1) (4).jpeg"><p>Fornite</p></div>
      <div class="nominado"><img src="imagenes/images.png"><p>Roblox</p></div>
    </div>
  </div>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-app.js";
  import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-database.js";

  // Configuración Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyDj9relnAX5se46pRmzZpBYE2c-Phndtvs",
    authDomain: "login-sepawards.firebaseapp.com",
    databaseURL: "https://login-sepawards-default-rtdb.firebaseio.com",
    projectId: "login-sepawards",
    storageBucket: "login-sepawards.firebasestorage.app",
    messagingSenderId: "224966270314",
    appId: "1:224966270314:web:2201fb1d8c4791621ad913"
  };

  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);

  // Función para generar un ID aleatorio
  function generarId() {
    return Math.floor(Math.random() * 1000000000).toString(); // número random de hasta 9 dígitos
  }

  // Manejo de selección
  document.querySelectorAll('.categoria').forEach(categoria => {
    const nominados = categoria.querySelectorAll('.nominado');
    nominados.forEach(nominado => {
      nominado.addEventListener('click', () => {
        // oscurecer todos
        nominados.forEach(n => {
          n.classList.add('oscuro');
          n.classList.remove('seleccionado');
        });
        // resaltar seleccionado
        nominado.classList.add('seleccionado');
        nominado.classList.remove('oscuro');

        // Guardar voto con ID único
        const categoriaNombre = categoria.querySelector('h2').innerText;
        const nominadoNombre = nominado.querySelector('p').innerText;
        const idVoto = generarId();

        set(ref(db, 'votos/' + categoriaNombre + '/' + idVoto), {
          elegido: nominadoNombre,
          timestamp: Date.now()
        });
      });
    });
  });
</script>
</body>
</html>
